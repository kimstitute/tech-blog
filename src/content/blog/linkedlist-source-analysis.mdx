---
title: "LinkedListæºç è§£æä¸åº”ç”¨åœºæ™¯æ·±åº¦åˆ†æ"
description: "æ·±å…¥è§£æLinkedListçš„åŒå‘é“¾è¡¨å®ç°åŸç†ã€æºç ç»†èŠ‚å’Œæ€§èƒ½ç‰¹ç‚¹ã€‚ç»“åˆå®é™…é¡¹ç›®åœºæ™¯åˆ†æLinkedListä¸ArrayListçš„é€‰å‹ç­–ç•¥ï¼ŒæŒæ¡é“¾è¡¨æ•°æ®ç»“æ„çš„æœ€ä½³å®è·µã€‚"
pubDate: 2024-12-08
updatedDate: 2024-12-08
tags: ["java", "linkedlist", "data-structure", "linked-list", "collections", "performance", "source-code", "interview", "best-practices"]
categories: ["java-core"]
subject: "é›†åˆæ¡†æ¶"
draft: false
featured: true
author: "Gerrad Zhang"
location: "æ­¦æ±‰ï¼Œä¸­å›½"
---

## ğŸ¤” é—®é¢˜èƒŒæ™¯ä¸æŠ€æœ¯æ¼”è¿›

### æˆ‘ä»¬è¦è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ

åœ¨Javaé›†åˆæ¡†æ¶ä¸­ï¼Œ**åŠ¨æ€æ•°æ®å­˜å‚¨å’Œé¢‘ç¹çš„æ’å…¥åˆ é™¤æ“ä½œ**æ˜¯ä¸€ä¸ªæ ¸å¿ƒéœ€æ±‚ã€‚ä¸åŒçš„æ•°æ®ç»“æ„åœ¨å¤„ç†è¿™äº›æ“ä½œæ—¶æœ‰ç€æˆªç„¶ä¸åŒçš„æ€§èƒ½è¡¨ç°ï¼š

- **æ•°ç»„ç»“æ„çš„å±€é™æ€§**ï¼šArrayListåœ¨ä¸­é—´ä½ç½®æ’å…¥åˆ é™¤éœ€è¦ç§»åŠ¨å¤§é‡å…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦O(n)
- **å†…å­˜åˆ†é…çš„è¿ç»­æ€§è¦æ±‚**ï¼šArrayListéœ€è¦è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œå¤§å®¹é‡æ—¶å¯èƒ½é¢ä¸´å†…å­˜ç¢ç‰‡é—®é¢˜
- **ç¼“å­˜å±€éƒ¨æ€§vsè®¿é—®æ•ˆç‡**ï¼šéœ€è¦åœ¨å†…å­˜è®¿é—®æ¨¡å¼å’Œæ“ä½œæ•ˆç‡ä¹‹é—´åšå‡ºæƒè¡¡
- **é˜Ÿåˆ—å’Œæ ˆæ“ä½œçš„æ€§èƒ½éœ€æ±‚**ï¼šæŸäº›åœºæ™¯éœ€è¦é«˜æ•ˆçš„å¤´å°¾æ“ä½œèƒ½åŠ›

```java
// ä¼ ç»ŸArrayListåœ¨é¢‘ç¹æ’å…¥åˆ é™¤æ—¶çš„æ€§èƒ½é—®é¢˜
public class ArrayListPerformanceIssues {
    
    /**
     * é—®é¢˜1ï¼šä¸­é—´ä½ç½®æ’å…¥çš„æ€§èƒ½å¼€é”€
     */
    public void demonstrateInsertionPerformance() {
        List<String> arrayList = new ArrayList<>(10000);
        
        // é¢„å¡«å……æ•°æ®
        for (int i = 0; i < 10000; i++) {
            arrayList.add("element" + i);
        }
        
        long startTime = System.currentTimeMillis();
        
        // âŒ æ€§èƒ½é—®é¢˜ï¼šåœ¨ä¸­é—´ä½ç½®é¢‘ç¹æ’å…¥
        for (int i = 0; i < 1000; i++) {
            arrayList.add(5000, "newElement" + i); // æ¯æ¬¡éƒ½è¦ç§»åŠ¨5000ä¸ªå…ƒç´ 
        }
        
        long endTime = System.currentTimeMillis();
        System.out.println("ArrayListä¸­é—´æ’å…¥è€—æ—¶: " + (endTime - startTime) + "ms");
        // æ—¶é—´å¤æ‚åº¦ï¼šO(n*m)ï¼Œnæ˜¯åˆ—è¡¨å¤§å°ï¼Œmæ˜¯æ’å…¥æ¬¡æ•°
    }
    
    /**
     * é—®é¢˜2ï¼šé¢‘ç¹åˆ é™¤æ“ä½œçš„å¼€é”€
     */
    public void demonstrateDeletionPerformance() {
        List<String> arrayList = new ArrayList<>();
        for (int i = 0; i < 10000; i++) {
            arrayList.add("element" + i);
        }
        
        long startTime = System.currentTimeMillis();
        
        // âŒ æ€§èƒ½é—®é¢˜ï¼šä»å¤´éƒ¨åˆ é™¤å…ƒç´ 
        for (int i = 0; i < 1000; i++) {
            arrayList.remove(0); // æ¯æ¬¡éƒ½è¦ç§»åŠ¨å‰©ä½™æ‰€æœ‰å…ƒç´ 
        }
        
        long endTime = System.currentTimeMillis();
        System.out.println("ArrayListå¤´éƒ¨åˆ é™¤è€—æ—¶: " + (endTime - startTime) + "ms");
    }
}
```

### æ²¡æœ‰è¿™ä¸ªæŠ€æœ¯æ—¶æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ

åœ¨LinkedListå‡ºç°ä¹‹å‰ï¼ŒJavaå¼€å‘è€…ä¸»è¦é€šè¿‡ä»¥ä¸‹æ–¹å¼å¤„ç†åŠ¨æ€æ•°æ®å­˜å‚¨ï¼š

**1. ä½¿ç”¨Vector**
- Java 1.0æ—¶ä»£çš„åŠ¨æ€æ•°ç»„å®ç°
- **é—®é¢˜**ï¼šæ‰€æœ‰æ–¹æ³•éƒ½æ˜¯synchronizedï¼Œæ€§èƒ½å¼€é”€å¤§ï¼Œæ’å…¥åˆ é™¤ä»ç„¶æ˜¯O(n)

**2. æ‰‹åŠ¨å®ç°é“¾è¡¨ç»“æ„**
- è‡ªå®šä¹‰Nodeç±»å’Œé“¾è¡¨æ“ä½œ
- **é—®é¢˜**ï¼šä»£ç å¤æ‚ï¼Œå®¹æ˜“å‡ºé”™ï¼Œç¼ºä¹æ ‡å‡†åŒ–

**3. ä½¿ç”¨æ•°ç»„+æ ‡è®°åˆ é™¤**
- é€šè¿‡æ ‡è®°ä½æ¥"åˆ é™¤"å…ƒç´ ï¼Œé¿å…å®é™…ç§»åŠ¨
- **é—®é¢˜**ï¼šå†…å­˜æµªè´¹ï¼Œéœ€è¦å®šæœŸå‹ç¼©ï¼Œé€»è¾‘å¤æ‚

### æŠ€æœ¯æ¼”è¿›çš„å†å²è„‰ç»œ

**JDK 1.2 (1998)**ï¼šLinkedListé¦–æ¬¡å¼•å…¥
- å®ç°äº†Listå’ŒDequeæ¥å£
- åŸºäºåŒå‘é“¾è¡¨çš„æ•°æ®ç»“æ„
- æä¾›äº†O(1)çš„å¤´å°¾æ“ä½œæ€§èƒ½

**JDK 1.5 (2004)**ï¼šæ³›å‹æ”¯æŒå’Œæ€§èƒ½ä¼˜åŒ–
- åŠ å…¥æ³›å‹æ”¯æŒï¼Œæé«˜ç±»å‹å®‰å…¨æ€§
- ä¼˜åŒ–äº†nodeæŸ¥æ‰¾ç®—æ³•
- æ”¹è¿›äº†åºåˆ—åŒ–æœºåˆ¶

**JDK 1.6-1.8 (2006-2014)**ï¼šæŒç»­ä¼˜åŒ–
- æ”¹è¿›äº†clone()æ–¹æ³•çš„å®ç°
- ä¼˜åŒ–äº†è¿­ä»£å™¨çš„æ€§èƒ½
- å¢å¼ºäº†ä¸Stream APIçš„é›†æˆ

## ğŸ¯ æ ¸å¿ƒæ¦‚å¿µä¸åŸç†

### åŸºç¡€æ¦‚å¿µå®šä¹‰

**LinkedList**æ˜¯Javaé›†åˆæ¡†æ¶ä¸­åŸºäºåŒå‘é“¾è¡¨å®ç°çš„åŠ¨æ€æ•°ç»„ï¼Œå®ƒå®ç°äº†Listã€Dequeã€Queueç­‰å¤šä¸ªæ¥å£ï¼Œæä¾›äº†çµæ´»çš„æ•°æ®æ“ä½œèƒ½åŠ›ã€‚

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- **åŒå‘é“¾è¡¨ç»“æ„**ï¼šæ¯ä¸ªèŠ‚ç‚¹åŒ…å«æ•°æ®å’Œå‰åæŒ‡é’ˆï¼Œæ”¯æŒåŒå‘éå†
- **åŠ¨æ€å¤§å°**ï¼šæ— éœ€é¢„åˆ†é…å›ºå®šå¤§å°ï¼Œæ ¹æ®éœ€è¦åŠ¨æ€å¢é•¿
- **O(1)æ’å…¥åˆ é™¤**ï¼šåœ¨å·²çŸ¥èŠ‚ç‚¹ä½ç½®æ—¶ï¼Œæ’å…¥åˆ é™¤æ“ä½œä¸ºå¸¸æ•°æ—¶é—´
- **éè¿ç»­å†…å­˜**ï¼šèŠ‚ç‚¹åˆ†æ•£å­˜å‚¨ï¼Œä¸è¦æ±‚è¿ç»­å†…å­˜ç©ºé—´

### LinkedListæ ¸å¿ƒæ•°æ®ç»“æ„

**LinkedListçš„å†…éƒ¨å®ç°**ï¼š

```java
/**
 * LinkedListæ ¸å¿ƒæ•°æ®ç»“æ„åˆ†æ
 */
public class LinkedListDataStructure {
    
    /**
     * LinkedListçš„æ ¸å¿ƒå­—æ®µ
     */
    public void analyzeCoreFields() {
        /*
         * LinkedListçš„å…³é”®å­—æ®µï¼š
         * 
         * public class LinkedList<E> extends AbstractSequentialList<E>
         *     implements List<E>, Deque<E>, Cloneable, java.io.Serializable {
         *     
         *     // é“¾è¡¨å¤§å°
         *     transient int size = 0;
         *     
         *     // å¤´èŠ‚ç‚¹æŒ‡é’ˆ
         *     transient Node<E> first;
         *     
         *     // å°¾èŠ‚ç‚¹æŒ‡é’ˆ
         *     transient Node<E> last;
         *     
         *     // ä¿®æ”¹æ¬¡æ•°ï¼Œç”¨äºfail-fastæœºåˆ¶
         *     protected transient int modCount = 0;
         * }
         */
    }
    
    /**
     * NodeèŠ‚ç‚¹ç»“æ„åˆ†æ
     */
    public void analyzeNodeStructure() {
        /*
         * Nodeå†…éƒ¨ç±»çš„è®¾è®¡ï¼š
         * 
         * private static class Node<E> {
         *     E item;           // å­˜å‚¨çš„æ•°æ®å…ƒç´ 
         *     Node<E> next;     // æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ
         *     Node<E> prev;     // æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ
         *     
         *     Node(Node<E> prev, E element, Node<E> next) {
         *         this.item = element;
         *         this.next = next;
         *         this.prev = prev;
         *     }
         * }
         * 
         * è®¾è®¡ç‰¹ç‚¹ï¼š
         * 1. é™æ€å†…éƒ¨ç±»ï¼Œå‡å°‘å†…å­˜å¼€é”€
         * 2. æ³›å‹æ”¯æŒï¼Œç±»å‹å®‰å…¨
         * 3. åŒå‘æŒ‡é’ˆï¼Œæ”¯æŒåŒå‘éå†
         * 4. ç®€æ´çš„æ„é€ å‡½æ•°ï¼Œä¾¿äºèŠ‚ç‚¹åˆ›å»º
         */
    }
    
    /**
     * åŒå‘é“¾è¡¨çš„å†…å­˜å¸ƒå±€
     */
    public void analyzeMemoryLayout() {
        /*
         * LinkedListåœ¨å†…å­˜ä¸­çš„å¸ƒå±€ï¼š
         * 
         * LinkedListå¯¹è±¡:
         * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         * â”‚ size = 3    â”‚
         * â”‚ first  â”€â”€â”€â”€â”€â”€â”€â”€â”
         * â”‚ last   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         * â”‚ modCount = 3â”‚     â”‚
         * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
         *                     â”‚
         * Node<E> first:      â”‚     Node<E> middle:        Node<E> last:
         * â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â—„â”€â”€â”€â”˜     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         * â”‚ item = "A"  â”‚           â”‚ item = "B"  â”‚        â”‚ item = "C"  â”‚
         * â”‚ prev = null â”‚           â”‚ prev  â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€ prev    â”‚
         * â”‚ next  â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â–º next    â”‚        â”‚ next = null â”‚
         * â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         *                                                           â–²
         *                                                           â”‚
         *                                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         * 
         * ç‰¹ç‚¹ï¼š
         * 1. èŠ‚ç‚¹åœ¨å†…å­˜ä¸­åˆ†æ•£åˆ†å¸ƒ
         * 2. é€šè¿‡æŒ‡é’ˆè¿æ¥å½¢æˆé€»è¾‘é¡ºåº
         * 3. æ¯ä¸ªèŠ‚ç‚¹å ç”¨é¢å¤–çš„æŒ‡é’ˆç©ºé—´
         * 4. ç¼“å­˜å±€éƒ¨æ€§ç›¸å¯¹è¾ƒå·®
         */
    }
}
```

### å·¥ä½œåŸç†è¯¦è§£

**LinkedListçš„æ ¸å¿ƒæ“ä½œåŸç†**ï¼š

```java
/**
 * LinkedListæ ¸å¿ƒæ“ä½œåŸç†åˆ†æ
 */
public class LinkedListOperationPrinciples {
    
    /**
     * æ’å…¥æ“ä½œçš„åŸç†
     */
    public void analyzeInsertionPrinciple() {
        /*
         * åœ¨æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ çš„æ­¥éª¤ï¼š
         * 
         * 1. å®šä½ç›®æ ‡ä½ç½®ï¼š
         *    - å¦‚æœindex < size/2ï¼Œä»å¤´å¼€å§‹éå†
         *    - å¦‚æœindex >= size/2ï¼Œä»å°¾å¼€å§‹éå†
         *    - æ—¶é—´å¤æ‚åº¦ï¼šO(n/2) = O(n)
         * 
         * 2. åˆ›å»ºæ–°èŠ‚ç‚¹ï¼š
         *    - åˆ†é…å†…å­˜ç©ºé—´
         *    - è®¾ç½®æ•°æ®å’ŒæŒ‡é’ˆ
         *    - æ—¶é—´å¤æ‚åº¦ï¼šO(1)
         * 
         * 3. è°ƒæ•´æŒ‡é’ˆè¿æ¥ï¼š
         *    - æ›´æ–°å‰é©±èŠ‚ç‚¹çš„nextæŒ‡é’ˆ
         *    - æ›´æ–°åç»§èŠ‚ç‚¹çš„prevæŒ‡é’ˆ
         *    - æ›´æ–°æ–°èŠ‚ç‚¹çš„prevå’ŒnextæŒ‡é’ˆ
         *    - æ—¶é—´å¤æ‚åº¦ï¼šO(1)
         * 
         * æ€»æ—¶é—´å¤æ‚åº¦ï¼šO(n) + O(1) + O(1) = O(n)
         * 
         * ç‰¹æ®Šæƒ…å†µä¼˜åŒ–ï¼š
         * - å¤´éƒ¨æ’å…¥ï¼šO(1)
         * - å°¾éƒ¨æ’å…¥ï¼šO(1)
         * - ä¸­é—´æ’å…¥ï¼šO(n)
         */
    }
    
    /**
     * åˆ é™¤æ“ä½œçš„åŸç†
     */
    public void analyzeDeletionPrinciple() {
        /*
         * åˆ é™¤æŒ‡å®šä½ç½®å…ƒç´ çš„æ­¥éª¤ï¼š
         * 
         * 1. å®šä½ç›®æ ‡èŠ‚ç‚¹ï¼š
         *    - ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç­–ç•¥å®šä½
         *    - æ—¶é—´å¤æ‚åº¦ï¼šO(n)
         * 
         * 2. è°ƒæ•´æŒ‡é’ˆè¿æ¥ï¼š
         *    - å‰é©±èŠ‚ç‚¹.next = ç›®æ ‡èŠ‚ç‚¹.next
         *    - åç»§èŠ‚ç‚¹.prev = ç›®æ ‡èŠ‚ç‚¹.prev
         *    - æ—¶é—´å¤æ‚åº¦ï¼šO(1)
         * 
         * 3. æ¸…ç†ç›®æ ‡èŠ‚ç‚¹ï¼š
         *    - æ¸…ç©ºèŠ‚ç‚¹å¼•ç”¨ï¼Œä¾¿äºGC
         *    - æ›´æ–°sizeè®¡æ•°
         *    - æ—¶é—´å¤æ‚åº¦ï¼šO(1)
         * 
         * åˆ é™¤æ“ä½œçš„ä¼˜åŠ¿ï¼š
         * - ä¸éœ€è¦ç§»åŠ¨å…¶ä»–å…ƒç´ 
         * - å†…å­˜é‡Šæ”¾åŠæ—¶
         * - æ”¯æŒé«˜æ•ˆçš„å¤´å°¾åˆ é™¤
         */
    }
    
    /**
     * æŸ¥æ‰¾æ“ä½œçš„åŸç†
     */
    public void analyzeSearchPrinciple() {
        /*
         * éšæœºè®¿é—®çš„å®ç°ï¼š
         * 
         * 1. ç´¢å¼•èŒƒå›´æ£€æŸ¥ï¼š
         *    - éªŒè¯indexæ˜¯å¦åœ¨[0, size)èŒƒå›´å†…
         *    - æŠ›å‡ºIndexOutOfBoundsException
         * 
         * 2. äºŒåˆ†æŸ¥æ‰¾ä¼˜åŒ–ï¼š
         *    - if (index < (size >> 1)) ä»å¤´å¼€å§‹
         *    - else ä»å°¾å¼€å§‹
         *    - æœ€å¤šéå†size/2ä¸ªèŠ‚ç‚¹
         * 
         * 3. é¡ºåºéå†ï¼š
         *    - é€šè¿‡nextæˆ–prevæŒ‡é’ˆé€ä¸ªè®¿é—®
         *    - æ— æ³•è·³è·ƒè®¿é—®
         * 
         * æ—¶é—´å¤æ‚åº¦åˆ†æï¼š
         * - æœ€å¥½æƒ…å†µï¼šO(1) (å¤´å°¾è®¿é—®)
         * - å¹³å‡æƒ…å†µï¼šO(n/4)
         * - æœ€åæƒ…å†µï¼šO(n/2)
         * - æ€»ä½“ï¼šO(n)
         */
         }
 }

## ğŸ”§ å®ç°åŸç†ä¸æºç åˆ†æ

### æ ¸å¿ƒæ“ä½œæºç è§£æ

**LinkedListçš„å¢åˆ æ”¹æŸ¥æ“ä½œæºç è¯¦è§£**ï¼š

```java
/**
 * LinkedListæ ¸å¿ƒæ“ä½œæºç åˆ†æ
 */
public class LinkedListSourceCodeAnalysis {
    
    /**
     * addæ“ä½œçš„æºç è§£æ
     */
    public void analyzeAddOperation() {
        /*
         * add(E e) æ–¹æ³•çš„å®ç°ï¼š
         * 
         * public boolean add(E e) {
         *     linkLast(e);
         *     return true;
         * }
         * 
         * void linkLast(E e) {
         *     final Node<E> l = last;
         *     final Node<E> newNode = new Node<>(l, e, null);
         *     last = newNode;
         *     if (l == null)
         *         first = newNode;
         *     else
         *         l.next = newNode;
         *     size++;
         *     modCount++;
         * }
         * 
         * å…³é”®æ­¥éª¤ï¼š
         * 1. ä¿å­˜å½“å‰å°¾èŠ‚ç‚¹å¼•ç”¨
         * 2. åˆ›å»ºæ–°èŠ‚ç‚¹ï¼ŒprevæŒ‡å‘åŸå°¾èŠ‚ç‚¹
         * 3. æ›´æ–°lastæŒ‡é’ˆæŒ‡å‘æ–°èŠ‚ç‚¹
         * 4. å¤„ç†ç©ºé“¾è¡¨çš„ç‰¹æ®Šæƒ…å†µ
         * 5. æ›´æ–°åŸå°¾èŠ‚ç‚¹çš„nextæŒ‡é’ˆ
         * 6. æ›´æ–°sizeå’ŒmodCount
         * 
         * æ—¶é—´å¤æ‚åº¦ï¼šO(1)
         */
    }
    
    /**
     * node(index)æ–¹æ³•çš„äºŒåˆ†æŸ¥æ‰¾ä¼˜åŒ–
     */
    public void analyzeNodeMethod() {
        /*
         * node(int index) çš„å®ç°ï¼š
         * 
         * Node<E> node(int index) {
         *     if (index < (size >> 1)) {
         *         Node<E> x = first;
         *         for (int i = 0; i < index; i++)
         *             x = x.next;
         *         return x;
         *     } else {
         *         Node<E> x = last;
         *         for (int i = size - 1; i > index; i--)
         *             x = x.prev;
         *         return x;
         *     }
         * }
         * 
         * ä¼˜åŒ–ç­–ç•¥ï¼š
         * 1. äºŒåˆ†æŸ¥æ‰¾å®šä½ï¼šæ ¹æ®indexä½ç½®é€‰æ‹©éå†æ–¹å‘
         * 2. ä»è¾ƒè¿‘çš„ä¸€ç«¯å¼€å§‹éå†
         * 3. æœ€å¤šéå†size/2ä¸ªèŠ‚ç‚¹
         * 4. å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼šO(n/4)
         */
    }
}
```

## ğŸ’¡ å®æˆ˜æ¡ˆä¾‹ä¸ä»£ç ç¤ºä¾‹

### å…·ä½“é¡¹ç›®åº”ç”¨

**åœºæ™¯1ï¼šLRUç¼“å­˜å®ç°**

```java
/**
 * åŸºäºLinkedListæ€æƒ³å®ç°çš„LRUç¼“å­˜
 */
public class LRUCache<K, V> {
    
    private final int capacity;
    private final Map<K, Node<K, V>> cache;
    private final Node<K, V> head;
    private final Node<K, V> tail;
    
    private static class Node<K, V> {
        K key;
        V value;
        Node<K, V> prev;
        Node<K, V> next;
        
        Node(K key, V value) {
            this.key = key;
            this.value = value;
        }
    }
    
    public LRUCache(int capacity) {
        this.capacity = capacity;
        this.cache = new HashMap<>(capacity);
        
        // åˆ›å»ºè™šæ‹Ÿå¤´å°¾èŠ‚ç‚¹ï¼Œç®€åŒ–è¾¹ç•Œå¤„ç†
        this.head = new Node<>(null, null);
        this.tail = new Node<>(null, null);
        head.next = tail;
        tail.prev = head;
    }
    
    /**
     * è·å–ç¼“å­˜å€¼
     */
    public V get(K key) {
        Node<K, V> node = cache.get(key);
        if (node == null) {
            return null;
        }
        
        // ç§»åŠ¨åˆ°å¤´éƒ¨ï¼ˆæœ€è¿‘ä½¿ç”¨ï¼‰
        moveToHead(node);
        return node.value;
    }
    
    /**
     * æ”¾å…¥ç¼“å­˜
     */
    public void put(K key, V value) {
        Node<K, V> node = cache.get(key);
        
        if (node != null) {
            // æ›´æ–°ç°æœ‰èŠ‚ç‚¹
            node.value = value;
            moveToHead(node);
        } else {
            // åˆ›å»ºæ–°èŠ‚ç‚¹
            Node<K, V> newNode = new Node<>(key, value);
            
            if (cache.size() >= capacity) {
                // åˆ é™¤å°¾éƒ¨èŠ‚ç‚¹ï¼ˆæœ€ä¹…æœªä½¿ç”¨ï¼‰
                Node<K, V> removed = removeTail();
                cache.remove(removed.key);
            }
            
            // æ·»åŠ åˆ°å¤´éƒ¨
            addToHead(newNode);
            cache.put(key, newNode);
        }
    }
    
    private void moveToHead(Node<K, V> node) {
        removeNode(node);
        addToHead(node);
    }
    
    private void addToHead(Node<K, V> node) {
        node.prev = head;
        node.next = head.next;
        head.next.prev = node;
        head.next = node;
    }
    
    private void removeNode(Node<K, V> node) {
        node.prev.next = node.next;
        node.next.prev = node.prev;
    }
    
    private Node<K, V> removeTail() {
        Node<K, V> lastNode = tail.prev;
        removeNode(lastNode);
        return lastNode;
    }
}
```

**åœºæ™¯2ï¼šä»»åŠ¡è°ƒåº¦é˜Ÿåˆ—**

```java
/**
 * åŸºäºLinkedListçš„ä»»åŠ¡è°ƒåº¦é˜Ÿåˆ—
 */
public class TaskScheduler {
    
    private final LinkedList<ScheduledTask> taskQueue;
    private final ScheduledExecutorService executor;
    private final Object lock = new Object();
    
    private static class ScheduledTask {
        private final Runnable task;
        private final long executeTime;
        private final int priority;
        
        public ScheduledTask(Runnable task, long executeTime, int priority) {
            this.task = task;
            this.executeTime = executeTime;
            this.priority = priority;
        }
        
        public boolean isReady() {
            return System.currentTimeMillis() >= executeTime;
        }
    }
    
    public TaskScheduler() {
        this.taskQueue = new LinkedList<>();
        this.executor = Executors.newScheduledThreadPool(4);
        startScheduler();
    }
    
    /**
     * è°ƒåº¦ä»»åŠ¡
     */
    public void schedule(Runnable task, long delayMs, int priority) {
        long executeTime = System.currentTimeMillis() + delayMs;
        ScheduledTask scheduledTask = new ScheduledTask(task, executeTime, priority);
        
        synchronized (lock) {
            // æŒ‰æ‰§è¡Œæ—¶é—´å’Œä¼˜å…ˆçº§æ’å…¥
            insertTask(scheduledTask);
            lock.notify();
        }
    }
    
    /**
     * æŒ‰ä¼˜å…ˆçº§å’Œæ—¶é—´é¡ºåºæ’å…¥ä»»åŠ¡
     */
    private void insertTask(ScheduledTask newTask) {
        if (taskQueue.isEmpty()) {
            taskQueue.add(newTask);
            return;
        }
        
        // ä½¿ç”¨ListIteratorè¿›è¡Œé«˜æ•ˆæ’å…¥
        ListIterator<ScheduledTask> iterator = taskQueue.listIterator();
        
        while (iterator.hasNext()) {
            ScheduledTask current = iterator.next();
            
            // å…ˆæŒ‰æ‰§è¡Œæ—¶é—´æ’åºï¼Œå†æŒ‰ä¼˜å…ˆçº§æ’åº
            if (newTask.executeTime < current.executeTime ||
                (newTask.executeTime == current.executeTime && 
                 newTask.priority > current.priority)) {
                iterator.previous();
                iterator.add(newTask);
                return;
            }
        }
        
        // æ·»åŠ åˆ°æœ«å°¾
        taskQueue.addLast(newTask);
    }
    
    /**
     * å¯åŠ¨è°ƒåº¦å™¨
     */
    private void startScheduler() {
        executor.scheduleWithFixedDelay(() -> {
            synchronized (lock) {
                while (!taskQueue.isEmpty() && taskQueue.peekFirst().isReady()) {
                    ScheduledTask task = taskQueue.removeFirst();
                    executor.submit(task.task);
                }
            }
        }, 0, 10, TimeUnit.MILLISECONDS);
    }
}
```

## ğŸ¯ é¢è¯•é«˜é¢‘é—®é¢˜ç²¾è®²

### æ ¸å¿ƒé¢è¯•é—®é¢˜

**é—®é¢˜1ï¼šLinkedListä¸ArrayListçš„åŒºåˆ«**

```java
/**
 * LinkedList vs ArrayList é¢è¯•è¦ç‚¹
 */
public class LinkedListVsArrayListInterview {
    
    /**
     * æ ‡å‡†é¢è¯•ç­”æ¡ˆ
     */
    public void explainDifferences() {
        /*
         * æ ¸å¿ƒåŒºåˆ«ï¼š
         * 
         * 1. åº•å±‚æ•°æ®ç»“æ„ï¼š
         *    - LinkedList: åŒå‘é“¾è¡¨
         *    - ArrayList: åŠ¨æ€æ•°ç»„
         * 
         * 2. è®¿é—®æ€§èƒ½ï¼š
         *    - LinkedList: O(n) éœ€è¦éå†
         *    - ArrayList: O(1) ç›´æ¥ç´¢å¼•è®¿é—®
         * 
         * 3. æ’å…¥åˆ é™¤æ€§èƒ½ï¼š
         *    - LinkedList: å¤´å°¾O(1)ï¼Œä¸­é—´O(n)
         *    - ArrayList: å°¾éƒ¨O(1)ï¼Œå…¶ä»–O(n)
         * 
         * 4. å†…å­˜ä½¿ç”¨ï¼š
         *    - LinkedList: é¢å¤–æŒ‡é’ˆå¼€é”€ï¼Œåˆ†æ•£å­˜å‚¨
         *    - ArrayList: è¿ç»­å­˜å‚¨ï¼Œå¯èƒ½æœ‰é¢„åˆ†é…æµªè´¹
         * 
         * 5. ç¼“å­˜å±€éƒ¨æ€§ï¼š
         *    - LinkedList: å·®ï¼ŒèŠ‚ç‚¹åˆ†æ•£
         *    - ArrayList: å¥½ï¼Œè¿ç»­å†…å­˜
         */
    }
}
```

**é—®é¢˜2ï¼šä»€ä¹ˆæ—¶å€™ä½¿ç”¨LinkedListï¼Ÿ**

```java
/**
 * LinkedListä½¿ç”¨åœºæ™¯åˆ†æ
 */
public class LinkedListUseCases {
    
    /**
     * é€‚ç”¨åœºæ™¯è¯¦è§£
     */
    public void explainUseCases() {
        /*
         * ä½¿ç”¨LinkedListçš„åœºæ™¯ï¼š
         * 
         * 1. é¢‘ç¹å¤´å°¾æ“ä½œï¼š
         *    - å®ç°é˜Ÿåˆ—ã€æ ˆã€åŒç«¯é˜Ÿåˆ—
         *    - éœ€è¦O(1)çš„å¤´éƒ¨æ’å…¥åˆ é™¤
         * 
         * 2. ä¸­é—´é¢‘ç¹æ’åˆ ï¼š
         *    - ç»´æŠ¤æœ‰åºåˆ—è¡¨
         *    - å®ç°LRUç¼“å­˜
         *    - åŠ¨æ€æ’åº
         * 
         * 3. å†…å­˜æ•æ„Ÿï¼š
         *    - é¿å…å¤§å—è¿ç»­å†…å­˜åˆ†é…
         *    - ç²¾ç¡®çš„å†…å­˜æ§åˆ¶
         * 
         * 4. ä¸éœ€è¦éšæœºè®¿é—®ï¼š
         *    - é¡ºåºå¤„ç†æ•°æ®
         *    - æµå¼å¤„ç†
         * 
         * ä¸é€‚ç”¨åœºæ™¯ï¼š
         * - é¢‘ç¹éšæœºè®¿é—®
         * - å†…å­˜ä½¿ç”¨è¦æ±‚æè‡´
         * - CPUç¼“å­˜æ•æ„Ÿçš„åœºæ™¯
         */
    }
}
```

**é—®é¢˜3ï¼šLinkedListæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ**

```java
/**
 * LinkedListçº¿ç¨‹å®‰å…¨åˆ†æ
 */
public class LinkedListThreadSafety {
    
    /**
     * çº¿ç¨‹å®‰å…¨é—®é¢˜åˆ†æ
     */
    public void analyzeThreadSafety() {
        /*
         * LinkedListä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼š
         * 
         * 1. å¹¶å‘ä¿®æ”¹é—®é¢˜ï¼š
         *    - å¤šçº¿ç¨‹åŒæ—¶ä¿®æ”¹å¯èƒ½å¯¼è‡´é“¾è¡¨ç»“æ„ç ´å
         *    - å¯èƒ½å‡ºç°èŠ‚ç‚¹ä¸¢å¤±æˆ–å¾ªç¯å¼•ç”¨
         * 
         * 2. å¯è§æ€§é—®é¢˜ï¼š
         *    - æ²¡æœ‰åŒæ­¥æœºåˆ¶ä¿è¯ä¿®æ”¹çš„å¯è§æ€§
         *    - ä¸€ä¸ªçº¿ç¨‹çš„ä¿®æ”¹å¯èƒ½å¯¹å…¶ä»–çº¿ç¨‹ä¸å¯è§
         * 
         * 3. fail-fastæœºåˆ¶ï¼š
         *    - æ£€æµ‹å¹¶å‘ä¿®æ”¹ï¼ŒæŠ›å‡ºConcurrentModificationException
         *    - ä½†ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ä¿è¯
         * 
         * è§£å†³æ–¹æ¡ˆï¼š
         * 1. Collections.synchronizedList()åŒ…è£…
         * 2. ä½¿ç”¨CopyOnWriteArrayList
         * 3. ä½¿ç”¨ConcurrentLinkedQueue
         * 4. æ‰‹åŠ¨åŒæ­¥æ§åˆ¶
         */
    }
}
```

## âš¡ æ€§èƒ½ä¼˜åŒ–ä¸æ³¨æ„äº‹é¡¹

### æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

**1. è®¿é—®æ¨¡å¼ä¼˜åŒ–**

```java
/**
 * LinkedListæ€§èƒ½ä¼˜åŒ–ç­–ç•¥
 */
public class LinkedListPerformanceOptimization {
    
    /**
     * é¿å…éšæœºè®¿é—®
     */
    public void avoidRandomAccess() {
        LinkedList<String> list = new LinkedList<>();
        
        // âŒ é”™è¯¯åšæ³•ï¼šä½¿ç”¨ç´¢å¼•è®¿é—®
        for (int i = 0; i < list.size(); i++) {
            String item = list.get(i); // O(n)æ“ä½œ
            // æ€»æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²)
        }
        
        // âœ… æ­£ç¡®åšæ³•ï¼šä½¿ç”¨è¿­ä»£å™¨
        for (String item : list) {
            // ä½¿ç”¨è¿­ä»£å™¨ï¼ŒO(1)å•æ­¥æ“ä½œ
            // æ€»æ—¶é—´å¤æ‚åº¦ï¼šO(n)
        }
        
        // âœ… æ›´å¥½çš„åšæ³•ï¼šä½¿ç”¨Stream API
        list.stream()
            .filter(item -> item.length() > 5)
            .forEach(System.out::println);
    }
    
    /**
     * æ‰¹é‡æ“ä½œä¼˜åŒ–
     */
    public void optimizeBatchOperations() {
        LinkedList<String> list = new LinkedList<>();
        
        // âœ… æ‰¹é‡æ·»åŠ åˆ°å°¾éƒ¨
        List<String> newItems = Arrays.asList("a", "b", "c");
        list.addAll(newItems); // æ¯”é€ä¸ªaddæ›´é«˜æ•ˆ
        
        // âœ… ä½¿ç”¨addFirst/addLastè€Œä¸æ˜¯add(index)
        list.addFirst("first"); // O(1)
        list.addLast("last");   // O(1)
    }
}
```

## ğŸ“š æ€»ç»“ä¸æŠ€æœ¯å¯¹æ¯”

### æ ¸å¿ƒè¦ç‚¹æ€»ç»“

**LinkedListçš„è®¾è®¡ç²¾é«“**ï¼š

1. **åŒå‘é“¾è¡¨ç»“æ„**ï¼šæä¾›äº†çµæ´»çš„åŒå‘éå†èƒ½åŠ›
2. **åŠ¨æ€å†…å­˜ç®¡ç†**ï¼šæ— éœ€é¢„åˆ†é…ï¼ŒæŒ‰éœ€åˆ†é…èŠ‚ç‚¹
3. **O(1)å¤´å°¾æ“ä½œ**ï¼šé«˜æ•ˆçš„é˜Ÿåˆ—å’Œæ ˆæ“ä½œæ”¯æŒ
4. **è¿­ä»£å™¨ä¼˜åŒ–**ï¼šæ”¯æŒé«˜æ•ˆçš„é¡ºåºè®¿é—®å’Œä¿®æ”¹

### é›†åˆæ¡†æ¶é€‰å‹æŒ‡å—

| ç‰¹æ€§ | ArrayList | LinkedList | ArrayDeque | Vector |
|------|-----------|------------|------------|--------|
| éšæœºè®¿é—® | O(1) | O(n) | O(1) | O(1) |
| å¤´éƒ¨æ’å…¥ | O(n) | O(1) | O(1) | O(n) |
| å°¾éƒ¨æ’å…¥ | O(1)* | O(1) | O(1) | O(1)* |
| ä¸­é—´æ’å…¥ | O(n) | O(n) | O(n) | O(n) |
| å†…å­˜æ•ˆç‡ | é«˜ | ä¸­ | é«˜ | é«˜ |
| çº¿ç¨‹å®‰å…¨ | âŒ | âŒ | âŒ | âœ… |
| é€‚ç”¨åœºæ™¯ | éšæœºè®¿é—® | å¤´å°¾æ“ä½œ | é˜Ÿåˆ—æ“ä½œ | é—ç•™ä»£ç  |

### æœ€ä½³å®è·µå»ºè®®

**é€‰æ‹©LinkedListçš„åœºæ™¯**ï¼š
- éœ€è¦é¢‘ç¹çš„å¤´å°¾æ’å…¥åˆ é™¤æ“ä½œ
- å®ç°é˜Ÿåˆ—ã€æ ˆã€åŒç«¯é˜Ÿåˆ—ç­‰æ•°æ®ç»“æ„
- ä¸éœ€è¦éšæœºè®¿é—®å…ƒç´ 
- å†…å­˜åˆ†é…éœ€è¦æ›´çµæ´»çš„æ§åˆ¶

**æ€§èƒ½ä¼˜åŒ–è¦ç‚¹**ï¼š
- ä¼˜å…ˆä½¿ç”¨è¿­ä»£å™¨è¿›è¡Œéå†
- é¿å…é¢‘ç¹çš„éšæœºè®¿é—®æ“ä½œ
- åˆç†é€‰æ‹©addFirst/addLastæ–¹æ³•
- è€ƒè™‘ä½¿ç”¨ArrayDequeæ›¿ä»£é˜Ÿåˆ—åœºæ™¯

**çº¿ç¨‹å®‰å…¨å»ºè®®**ï¼š
- å•çº¿ç¨‹ç¯å¢ƒç›´æ¥ä½¿ç”¨
- å¤šçº¿ç¨‹ç¯å¢ƒè€ƒè™‘åŒæ­¥åŒ…è£…æˆ–å¹¶å‘é›†åˆ
- æ³¨æ„è¿­ä»£æ—¶çš„åŒæ­¥æ§åˆ¶
- ç†è§£fail-fastæœºåˆ¶çš„å±€é™æ€§

**ä¸å…¶ä»–é›†åˆå¯¹æ¯”**ï¼š
- vs ArrayListï¼šLinkedListé€‚åˆæ’åˆ é¢‘ç¹ï¼ŒArrayListé€‚åˆéšæœºè®¿é—®
- vs ArrayDequeï¼šé˜Ÿåˆ—åœºæ™¯ä¼˜å…ˆè€ƒè™‘ArrayDeque
- vs ConcurrentLinkedQueueï¼šå¹¶å‘åœºæ™¯ä½¿ç”¨ä¸“é—¨çš„å¹¶å‘é›†åˆ

LinkedListä½œä¸ºJavaé›†åˆæ¡†æ¶çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå…¶åŒå‘é“¾è¡¨çš„è®¾è®¡ä¸ºç‰¹å®šåœºæ™¯æä¾›äº†é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚æ·±å…¥ç†è§£å…¶å®ç°åŸç†å’Œæ€§èƒ½ç‰¹ç‚¹ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬åœ¨å®é™…å¼€å‘ä¸­åšå‡ºæ›´åˆé€‚çš„æŠ€æœ¯é€‰å‹ã€‚

### æŠ€æœ¯ç‰¹ç‚¹å’Œä¼˜åŠ¿

**LinkedList vs ArrayListæ€§èƒ½å¯¹æ¯”**ï¼š

```java
/**
 * LinkedListä¸ArrayListæ€§èƒ½ç‰¹ç‚¹å¯¹æ¯”
 */
public class LinkedListVsArrayListComparison {
    
    /**
     * æ“ä½œå¤æ‚åº¦å¯¹æ¯”è¡¨
     */
    public void operationComplexityComparison() {
        /*
         * æ—¶é—´å¤æ‚åº¦å¯¹æ¯”ï¼š
         * 
         * | æ“ä½œç±»å‹     | LinkedList | ArrayList |
         * |-------------|------------|-----------|
         * | éšæœºè®¿é—®     | O(n)       | O(1)      |
         * | å¤´éƒ¨æ’å…¥     | O(1)       | O(n)      |
         * | å°¾éƒ¨æ’å…¥     | O(1)       | O(1)*     |
         * | ä¸­é—´æ’å…¥     | O(n)       | O(n)      |
         * | å¤´éƒ¨åˆ é™¤     | O(1)       | O(n)      |
         * | å°¾éƒ¨åˆ é™¤     | O(1)       | O(1)      |
         * | ä¸­é—´åˆ é™¤     | O(n)       | O(n)      |
         * | è¿­ä»£éå†     | O(n)       | O(n)      |
         * 
         * æ³¨ï¼šArrayListå°¾éƒ¨æ’å…¥åœ¨éœ€è¦æ‰©å®¹æ—¶ä¸ºO(n)
         */
    }
    
    /**
     * å†…å­˜ä½¿ç”¨ç‰¹ç‚¹å¯¹æ¯”
     */
    public void memoryUsageComparison() {
        /*
         * å†…å­˜ä½¿ç”¨å¯¹æ¯”ï¼š
         * 
         * LinkedList:
         * - æ¯ä¸ªå…ƒç´ é¢å¤–éœ€è¦16å­—èŠ‚(64ä½JVM)
         * - 8å­—èŠ‚å¯¹è±¡å¤´ + 4å­—èŠ‚prev + 4å­—èŠ‚next
         * - å†…å­˜åˆ†æ•£ï¼Œç¼“å­˜å±€éƒ¨æ€§å·®
         * - æ— é¢„åˆ†é…ç©ºé—´æµªè´¹
         * 
         * ArrayList:
         * - åªå­˜å‚¨å…ƒç´ æœ¬èº«
         * - è¿ç»­å†…å­˜å¸ƒå±€ï¼Œç¼“å­˜å‹å¥½
         * - å¯èƒ½æœ‰é¢„åˆ†é…ç©ºé—´æµªè´¹
         * - æ‰©å®¹æ—¶éœ€è¦å¤åˆ¶æ•´ä¸ªæ•°ç»„
         * 
         * å†…å­˜æ•ˆç‡ï¼š
         * - å°æ•°æ®é‡ï¼šArrayListæ›´ä¼˜
         * - å¤§æ•°æ®é‡ä¸”é¢‘ç¹æ’åˆ ï¼šLinkedListæ›´ä¼˜
         * - åªè¯»è®¿é—®ï¼šArrayListæ˜¾è‘—æ›´ä¼˜
         */
    }
    
    /**
     * é€‚ç”¨åœºæ™¯åˆ†æ
     */
    public void useCaseAnalysis() {
        /*
         * LinkedListé€‚ç”¨åœºæ™¯ï¼š
         * 
         * 1. é¢‘ç¹çš„å¤´å°¾æ“ä½œï¼š
         *    - å®ç°é˜Ÿåˆ—(Queue)
         *    - å®ç°æ ˆ(Stack)
         *    - å®ç°åŒç«¯é˜Ÿåˆ—(Deque)
         * 
         * 2. é¢‘ç¹çš„ä¸­é—´æ’å…¥åˆ é™¤ï¼š
         *    - ç»´æŠ¤æœ‰åºåˆ—è¡¨
         *    - å®ç°LRUç¼“å­˜
         *    - åŠ¨æ€æ•°æ®ç»“æ„
         * 
         * 3. å†…å­˜æ•æ„Ÿåœºæ™¯ï¼š
         *    - é¿å…å¤§å—è¿ç»­å†…å­˜åˆ†é…
         *    - å‡å°‘å†…å­˜ç¢ç‰‡åŒ–
         *    - ç²¾ç¡®çš„å†…å­˜ä½¿ç”¨æ§åˆ¶
         * 
         * ArrayListé€‚ç”¨åœºæ™¯ï¼š
         * 
         * 1. é¢‘ç¹éšæœºè®¿é—®ï¼š
         *    - æ•°ç»„å¼è®¿é—®æ¨¡å¼
         *    - ç´¢å¼•è®¡ç®—å’ŒæŸ¥æ‰¾
         *    - äºŒåˆ†æŸ¥æ‰¾ç­‰ç®—æ³•
         * 
         * 2. å†…å­˜æ•ˆç‡è¦æ±‚é«˜ï¼š
         *    - ç¼“å­˜å‹å¥½çš„è®¿é—®æ¨¡å¼
         *    - å‡å°‘å¯¹è±¡å¼€é”€
         *    - å¤§æ•°æ®é‡å­˜å‚¨
         * 
         * 3. è¯»å¤šå†™å°‘åœºæ™¯ï¼š
         *    - é…ç½®æ•°æ®å­˜å‚¨
         *    - æŸ¥è¯¢ç»“æœç¼“å­˜
         *    - é™æ€æ•°æ®é›†åˆ
         */
    }
}